syntax = "proto3";

option go_package = "./user";

package user;

// 查找团队请求体
message SearchOrgReq {
  string query = 1;
}
// 查找团队返回体
message SearchOrgReqResp {
  int64 code = 1;
  repeated SearchOrgInfo result = 2;
}
// 查找团队信息
message SearchOrgInfo {
  int64 orgId = 1;
  string orgName = 2;
}
// 查找用户请求体
message SearchUserReq{
  string query = 1;
}
// 查找用户返回体
message SearchUserResp {
  int64 code = 1;
  repeated SearchUserInfo result = 2;
}
// 查找用户信息
message SearchUserInfo {
  int64 userId = 1;
  string phone = 2;
}
// 用户申请加入团队请求体
message ApplyJoinOrgReq {
  int64 userId = 1;
  int64 orgId = 2;
}
// 用户申请加入团队返回体
message ApplyJoinOrgResp {
  int64 code = 1;
}
// 邀请用户加入团队请求体
message InviteJoinOrgReq {
  int64 userId = 1;
  int64 inviteUserId = 2;
}
// 邀请用户加入团队返回体
message InviteJoinOrgResp {
  int64 code = 1;
}
// 同意用户申请加入团队请求体
message AgreeApplyJoinOrgReq {
  int64 userId = 1;
  int64 messageId = 2;
}
// 同意用户申请加入团队返回体
message AgreeApplyJoinOrgResp {
  int64 code = 1;
}
// 同意用户邀请加入团队请求体
message AgreeInviteJoinOrgReq {
  int64 userId = 1;
  int64 messageId = 2;
}
// 同意用户邀请加入团队返回体
message AgreeInviteJoinOrgResp {
  int64 code = 1;
}

// 组织团队相关服务
service Org {
  // 查找团队
  rpc searchOrg(SearchOrgReq) returns (SearchOrgReqResp);
  // 查找用户
  rpc searchUser(SearchUserReq) returns (SearchUserResp);
  // 用户申请加入团队
  rpc applyJoinOrg(ApplyJoinOrgReq) returns (ApplyJoinOrgResp);
  // 邀请用户加入团队
  rpc inviteJoinOrg(InviteJoinOrgReq) returns (InviteJoinOrgResp);
  // 同意用户申请加入团队
  rpc agreeApplyJoinOrg(AgreeApplyJoinOrgReq) returns (AgreeApplyJoinOrgResp);
  // 同意用户邀请加入团队
  rpc agreeInviteJoinOrg(AgreeInviteJoinOrgReq) returns (AgreeInviteJoinOrgResp);
}