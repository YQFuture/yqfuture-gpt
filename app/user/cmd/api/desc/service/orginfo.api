syntax = "v1"

info(
    title: "用户信息服务"
    desc: "用户信息服务"
    author: "zouxiaodong"
    email: "13575232531@163.com"
    version: "v1"
)

import (
    "basefunction.api"
)

// 组织团队服务
type (
    // 查找团队请求体
    SearchOrgReq {
        Query string `json:"query"` // 查询
    }

        // 查找团队响应体
    SearchOrgResp {
        BaseResp
        Data []SearchOrgInfo `json:"data"`
    }

        // 查找团队数据
    SearchOrgInfo {
        OrgId string `json:"orgId"`
        OrgName string `json:"orgName"`
    }

        // 查找用户请求体
    SearchUserReq {
        Query string `json:"query"` // 查询
    }

        // 查找用户响应体
    SearchUserResp {
        BaseResp
        Data []SearchUserInfo `json:"data"`
    }

        // 查找用户数据
    SearchUserInfo {
        UserId string `json:"userId"`
        Phone string `json:"phone"`
    }

        // 用户申请加入团队请求体
    ApplyJoinOrgReq {
        OrgId string `json:"orgId"` // 组织id
    }

        // 用户申请加入团队响应体
    ApplyJoinOrgResp {
        BaseResp
    }

        // 邀请用户加入团队请求体
    InviteJoinOrgReq {
        InviteUserId string `json:"inviteUserId"` // 邀请用户id
    }

        // 邀请用户加入团队响应体
    InviteJoinOrgResp {
        BaseResp
    }

        // 同意用户申请加入团队请求体
    AgreeApplyJoinOrgReq {
        MessageId string `json:"messageId"` // 消息id
    }

        // 同意用户申请加入团队响应体
    AgreeApplyJoinOrgResp {
        BaseResp
    }

        // 用户同意邀请加入团队请求体
    AgreeInviteJoinOrgReq {
        MessageId string `json:"messageId"` // 消息id
    }

        // 用户同意邀请加入团队响应体
    AgreeInviteJoinOrgResp {
        BaseResp
    }

        // 获取团队角色列表请求体
    OrgRoleListReq {
        Query string `json:"query"` // 查询
    }

        // 获取当前团队角色列表响应体
    OrgRoleListResp {
        BaseResp
        Data []OrgRole `json:"data"` // 角色列表
    }

        // 团队角色数据
    OrgRole {
        RoleId string `json:"roleId"`         // 角色id
        RoleName string `json:"roleName"`     // 角色名称
        PermList []RolePerm `json:"permList"` // 权限列表
        ShopList []RoleShop `json:"shopList"` // 店铺列表
        UserList []RoleUser `json:"userList"` // 用户列表
    }

        // 角色权限数据
    RolePerm {
        PermId string `json:"permId"`     // 权限id
        PermName string `json:"permName"` // 权限名称
        PermCode string `json:"permCode"` // 权限code
    }

        // 角色店铺数据
    RoleShop {
        ShopId string `json:"shopId"`            // 店铺id
        ShopName string `json:"shopName"`        // 店铺名称
        PlatformType int64 `json:"platformType"` // 平台类型
    }

        // 角色用户数据
    RoleUser {
        UserId string `json:"userId"`     // 用户id
        NickName string `json:"nickName"` // 昵称
        HeadImg string `json:"headImg"`   // 头像
    }

        // 获取团队权限树请求体
    OrgPermTreeReq {
    }

        // 获取团队权限树响应体
    OrgPermTreeResp {
        BaseResp
        Data []OrgPerm `json:"data"` // 权限树
    }

        // 角色权限数据
    OrgPerm {
        PermId string `json:"permId"`        // 权限id
        PermName string `json:"permName"`    // 权限名称
        PermCode string `json:"permCode"`    // 权限code
        ParentId string `json:"parentId"`    // 父级id
        Sort int64 `json:"sort"`             // 排序
        Children []OrgPerm `json:"children"` // 子级
    }

        // 创建角色请求体
    CreateRoleReq {
        RoleName string `json:"roleName"`       // 角色名称
        PermIdList []string `json:"permIdList"` // 权限id列表
    }

        // 创建角色响应体
    CreateRoleResp {
        BaseResp
    }

        // 更新角色请求体
    UpdateRoleReq {
        RoleId string `json:"roleId"`           // 角色id
        RoleName string `json:"roleName"`       // 角色名称
        PermIdList []string `json:"permIdList"` // 权限id列表
    }

        // 更新角色响应体
    UpdateRoleResp {
        BaseResp
    }

        // 获取团队用户分页列表请求体
    OrgUserPageListReq {
        BasePageReq
        Query string `json:"query"` // 查询
    }

        // 获取团队用户分页列表响应体
    OrgUserPageListResp {
        BaseResp
        Data OrgUserPage `json:"data"` // 分页数据
    }

        // 团队用户分页数据
    OrgUserPage {
        BasePageResp
        List []OrgUser `json:"list"` // 用户列表
    }

        // 团队用户数据
    OrgUser {
        UserId string `json:"userId"`         // 用户id
        Phone string `json:"phone"`           // 手机号
        NickName string `json:"nickName"`     // 昵称
        HeadImg string `json:"headImg"`       // 头像
        Status int64 `json:"status"`          // 状态
        PermList []UserPerm `json:"permList"` // 权限列表
        RoleList []UserRole `json:"roleList"` // 角色列表
    }

        // 用户权限数据
    UserPerm {
        PermId string `json:"permId"`     // 权限id
        PermName string `json:"permName"` // 权限名称
        PermCode string `json:"permCode"` // 权限code
    }

        // 用户角色数据
    UserRole {
        RoleId string `json:"roleId"`     // 角色id
        RoleName string `json:"roleName"` // 角色名称
    }

        // 修改用户角色请求体
    ChangeUserRoleReq {
        UserId string `json:"userId"`           // 用户id
        RoleIdList []string `json:"roleIdList"` // 角色id列表
    }

        // 修改用户角色响应体
    ChangeUserRoleResp {
        BaseResp
    }

        // 删除用户请求体
    DeleteUserReq {
        UserId string `json:"userId"`
    }

        // 删除用户响应体
    DeleteUserResp {
        BaseResp
    }
)