syntax = "v1"

info(
    title: "用户信息服务"
    desc: "用户信息服务"
    author: "zouxiaodong"
    email: "13575232531@163.com"
    version: "v1"
)

import (
    "basefunction.api"
)

// 组织团队服务
type (
    // 查找团队请求体
    SearchOrgReq {
        Query string `json:"query"` // 查询
    }

        // 查找团队响应体
    SearchOrgResp {
        BaseResp
        Data []SearchOrgInfo `json:"data"`
    }

        // 查找团队数据
    SearchOrgInfo {
        OrgId string `json:"orgId"`
        OrgName string `json:"orgName"`
    }

        // 查找用户请求体
    SearchUserReq {
        Query string `json:"query"` // 查询
    }

        // 查找用户响应体
    SearchUserResp {
        BaseResp
        Data []SearchUserInfo `json:"data"`
    }

        // 查找用户数据
    SearchUserInfo {
        UserId string `json:"userId"`
        Phone string `json:"phone"`
    }

        // 用户申请加入团队请求体
    ApplyJoinOrgReq {
        OrgId string `json:"orgId"` // 组织id
    }

        // 用户申请加入团队响应体
    ApplyJoinOrgResp {
        BaseResp
    }

        // 邀请用户加入团队请求体
    InviteJoinOrgReq {
        InviteUserId string `json:"inviteUserId"` // 邀请用户id
    }

        // 邀请用户加入团队响应体
    InviteJoinOrgResp {
        BaseResp
    }

        // 同意用户申请加入团队请求体
    AgreeApplyJoinOrgReq {
        MessageId string `json:"messageId"` // 消息id
    }

        // 同意用户申请加入团队响应体
    AgreeApplyJoinOrgResp {
        BaseResp
    }

        // 用户同意邀请加入团队请求体
    AgreeInviteJoinOrgReq {
        MessageId string `json:"messageId"` // 消息id
    }

        // 用户同意邀请加入团队响应体
    AgreeInviteJoinOrgResp {
        BaseResp
    }

        // 获取团队角色列表请求体
    OrgRoleListReq {
        Query string `json:"query"` // 查询
    }

        // 获取当前团队角色列表响应体
    OrgRoleListResp {
        BaseResp
        Data []OrgRole `json:"data"` // 角色列表
    }

        // 团队角色数据
    OrgRole {
        RoleId string `json:"roleId"`         // 角色id
        RoleName string `json:"roleName"`     // 角色名称
        PermList []RolePerm `json:"permList"` // 权限列表
        ShopList []RoleShop `json:"shopList"` // 店铺列表
        UserList []RoleUser `json:"userList"` // 用户列表
    }

        // 角色权限数据
    RolePerm {
        PermId string `json:"permId"`     // 权限id
        PermName string `json:"permName"` // 权限名称
        PermCode string `json:"permCode"` // 权限code
    }

        // 角色店铺数据
    RoleShop {
        ShopId string `json:"shopId"`            // 店铺id
        ShopName string `json:"shopName"`        // 店铺名称
        PlatformType int64 `json:"platformType"` // 平台类型
    }

        // 角色用户数据
    RoleUser {
        UserId string `json:"userId"`     // 用户id
        NickName string `json:"nickName"` // 昵称
        HeadImg string `json:"headImg"`   // 头像
    }

        // 获取团队权限树请求体
    OrgPermTreeReq {
    }

        // 获取团队权限树响应体
    OrgPermTreeResp {
        BaseResp
        Data []OrgPerm `json:"data"` // 权限树
    }

        // 角色权限数据
    OrgPerm {
        PermId string `json:"permId"`        // 权限id
        PermName string `json:"permName"`    // 权限名称
        PermCode string `json:"permCode"`    // 权限code
        ParentId string `json:"parentId"`    // 父级id
        Sort int64 `json:"sort"`             // 排序
        Children []OrgPerm `json:"children"` // 子级
    }

        // 创建角色请求体
    CreateRoleReq {
        RoleName string `json:"roleName"`       // 角色名称
        PermIdList []string `json:"permIdList"` // 权限id列表
    }

        // 创建角色响应体
    CreateRoleResp {
        BaseResp
    }

        // 更新角色请求体
    UpdateRoleReq {
        RoleId string `json:"roleId"`           // 角色id
        RoleName string `json:"roleName"`       // 角色名称
        PermIdList []string `json:"permIdList"` // 权限id列表
    }

        // 更新角色响应体
    UpdateRoleResp {
        BaseResp
    }

        // 获取团队用户列表请求体
    OrgUserListReq {
    }

        // 获取团队用户列表响应体
    OrgUserListResp {
        BaseResp
        Data []OrgUser `json:"data"` // 用户列表
    }

        // 获取团队用户分页列表请求体
    OrgUserPageListReq {
        BasePageReq
    }

        // 获取团队用户分页列表响应体
    OrgUserPageListResp {
        BaseResp
        Data OrgUserPage `json:"data"` // 分页数据
    }

        // 团队用户分页数据
    OrgUserPage {
        BasePageResp
        MonthPowerLimit int64 `db:"monthPowerLimit"` // 当月算力上限
        MonthUsedPower int64 `db:"monthUsedPower"`   // 当月已用算力
        CanGivePower int64 `db:"canGivePower"`      // 可分配算力
        List []OrgUser `json:"list"` // 用户列表
    }

        // 团队用户数据
    OrgUser {
        UserId string `json:"userId"`                  // 用户id
        Phone string `json:"phone"`                    // 手机号
        NickName string `json:"nickName"`              // 昵称
        HeadImg string `json:"headImg"`                // 头像
        Status int64 `json:"status"`                   // 状态
        MonthPowerLimit int64 `db:"monthPowerLimit"` // 当月算力上限
        MonthUsedPower int64 `db:"monthUsedPower"`   // 当月已用算力
        PermList []UserPerm `json:"permList"`          // 权限列表
        RoleList []UserRole `json:"roleList"`          // 角色列表
    }

        // 用户权限数据
    UserPerm {
        PermId string `json:"permId"`     // 权限id
        PermName string `json:"permName"` // 权限名称
        PermCode string `json:"permCode"` // 权限code
    }

        // 用户角色数据
    UserRole {
        RoleId string `json:"roleId"`     // 角色id
        RoleName string `json:"roleName"` // 角色名称
    }

        // 修改用户角色请求体
    ChangeUserRoleReq {
        UserId string `json:"userId"`           // 用户id
        RoleIdList []string `json:"roleIdList"` // 角色id列表
    }

        // 修改用户角色响应体
    ChangeUserRoleResp {
        BaseResp
    }

        // 删除用户请求体
    DeleteUserReq {
        UserId string `json:"userId"`
    }

        // 删除用户响应体
    DeleteUserResp {
        BaseResp
    }

        // 暂停用户请求体
    PauseUserReq {
        UserId string `json:"userId"`
    }

        // 暂停用户响应体
    PauseUserResp {
        BaseResp
    }

        // 恢复用户请求体
    ResumeUserReq {
        UserId string `json:"userId"`
    }

        // 恢复用户响应体
    ResumeUserResp {
        BaseResp
    }
)

// 组织团队资源
type (
    // 分配算力请求体
    GivePowerReq {
        UserId string `json:"userId"`
        Power int64 `json:"power"`
    }

        // 分配算力返回体
    GivePowerResp {
        BaseResp
    }

        // 平均分配算力请求体
    GivePowerAvgReq {
    }

        // 平均分配算力返回体
    GivePowerAvgResp {
        BaseResp
    }

        // 分配店铺算力请求体
    GivePowerShopReq {
        ShopId string `json:"shopId"`
        Power int64 `json:"power"`
    }

        // 分配店铺算力返回体
    GivePowerShopResp {
        BaseResp
    }

        // 平均分配店铺算力请求体
    GivePowerShopAvgReq {
    }

        // 平均分配店铺算力返回体
    GivePowerShopAvgResp {
        BaseResp
    }

        // 获取团队店铺分页列表请求体
    OrgShopPageListReq {
        BasePageReq
    }

        // 获取团队店铺分页列表响应体
    OrgShopPageListResp {
        BaseResp
        Data OrgShopPage `json:"data"` // 分页数据
    }

        // 团队店铺分页数据
    OrgShopPage {
        BasePageResp
        PlatformTypeNum int64 `json:"platformTypeNum"` // 平台类型数量
        List []OrgShop `json:"list"`                   // 店铺列表
    }

        // 团队店铺数据
    OrgShop {
        ShopId string `json:"shopId"`                                                         // 店铺id
        PlatformType int64 `json:"platformType"`                                              // 平台类型
        ShopName string `json:"shopName"`                                                     // 店铺名称
        MonthPowerLimit int64 `db:"monthPowerLimit"`                                        // 当月算力上限
        MonthUsedPower int64 `db:"monthUsedPower"`                                          // 当月已用算力
        UserNum int64 `json:"userNum"`                                                        // 已分配客服用户数量
        RoleList []ShopRole `json:"roleList"`                                                 // 角色列表
        KeywordSwitchingUserList []ShopUser `json:"keywordSwitchingUserList"`                 // 关键词转接用户列表
        ExceptionDutyUserList []ShopUser `json:"exceptionDutyUserList"`                       // 关键词异常责任人用户列表
    }

        // 店铺角色数据
    ShopRole {
        RoleId string `json:"roleId"`     // 角色id
        RoleName string `json:"roleName"` // 角色名称
    }

        // 店铺用户数据
    ShopUser {
        UserId string `json:"userId"`                  // 用户id
        Phone string `json:"phone"`                    // 手机号
        NickName string `json:"nickName"`              // 昵称
        HeadImg string `json:"headImg"`                // 头像
    }

        // 编辑店铺指派请求体
    UpdateShopAssignReq {
        ShopId string `json:"shopId"`                                       // 店铺id
        RoleList []string `json:"roleList"`                                 // 角色id列表
        KeywordSwitchingUserList []string `json:"keywordSwitchingUserList"` // 关键词转接用户id列表
        ExceptionDutyUserList []string `json:"exceptionDutyUserList"`       // 关键词异常责任人用户id列表
    }

        // 编辑店铺指派响应体
    UpdateShopAssignResp {
        BaseResp
    }

        // 获取组织用户操作记录分页列表请求体
    OrgUserOperationPageListReq {
        BasePageReq
        UserId string `json:"userId"`      // 用户id
        StartTime int64 `json:"startTime"` // 开始时间
        EndTime int64 `json:"endTime"`     // 结束时间
    }

        // 获取组织用户操作记录分页列表响应体
    OrgUserOperationPageListResp {
        BaseResp
        Data OrgUserOperationPage `json:"data"` // 分页数据
    }

        // 组织用户操作记录分页数据
    OrgUserOperationPage {
        BasePageResp
        List []OrgUserOperation `json:"list"` // 操作记录列表
    }

        // 组织用户操作记录数据
    OrgUserOperation {
        CreateTime int64 `json:"createTime"`        // 创建时间
        OperationDesc string `json:"operationDesc"` // 操作描述
    }

        // 导出组织用户操作记录列表请求体
    OrgUserOperationListReq {
        UserId string `json:"userId"`      // 用户id
        StartTime int64 `json:"startTime"` // 开始时间
        EndTime int64 `json:"endTime"`     // 结束时间
        Query string `json:"query"`        // 查询
    }
)