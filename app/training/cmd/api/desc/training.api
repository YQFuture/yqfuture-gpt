syntax = "v1"

info (
	title:   "训练服务"
	desc:    "训练服务"
	author:  "zouxiaodong"
	email:   "13575232531@163.com"
	version: "v1"
)

import (
	"service/shoptraining.api"
	"service/basefunction.api"
)

// TODO 生成token 开发阶段临时使用 提测前删除
@server (
	prefix: JWT
	group:  JWT
)
service training {
	@doc "获取token"
	@handler getJWT
	get /getJWT (BaseReq) returns (BaseResp)
}

// TODO 基础服务相关 后续迁移到基础服务
@server (
	prefix: basicFunction
	group:  basicFunction
	jwt:    Auth
)
service training {
	@doc "根据字典类型获取字典数据列表"
	@handler getDictInfoByType
	post /getDictInfoByType (DictInfoByTypeReq) returns (DictInfoByTypeResp)
}

// 店铺训练服务
@server (
	prefix: shopTraining
	group:  shopTraining
	jwt:    Auth
)
service training {
	@doc "判断店铺是否首次登录 即从未进行过训练"
	@handler JudgeShopFirst
	post /judgeShopFirst (JudgeShopFirstReq) returns (JudgeShopFirstResp)

	@doc "查询店铺列表"
	@handler getShopPageList
	post /getShopPageList (ShopPageListReq) returns (ShopPageListResp)

	@doc "预设店铺"
	@handler preSettingShop
	post /preSettingShop (PresettingShopReq) returns (PresettingShopResp)

	@doc "取消店铺预设"
	@handler cancelPreSettingShop
	post /cancelPreSettingShop (CancelPreSettingShopReq) returns (CancelPreSettingShopResp)

	@doc "训练店铺"
	@handler trainingShop
	post /trainingShop (TrainingShopReq) returns (BaseResp)

	@doc "获取店铺训练进度"
	@handler getShopTrainingProgress
	post /getShopTrainingProgress (GetShopTrainingProgressReq) returns (GetShopTrainingProgressResp)

	@doc "查询商品列表"
	@handler getGoodsPageList
	post /getGoodsPageList (GoodsPageListReq) returns (GoodsPageListResp)

	@doc "刷新商品"
	@handler refreshGoods
	post /refreshGoods (RefreshGoodsReq) returns (BaseResp)

	@doc "启用商品"
	@handler enableGoods
	post /enableGoods (EnableGoodsReq) returns (BaseResp)

	@doc "停用商品"
	@handler unEnableGoods
	post /unEnableGoods (EnableGoodsReq) returns (BaseResp)

	@doc "预设商品"
	@handler preSettingGoods
	post /preSettingGoods (PreSettingGoodsReq) returns (BaseResp)

	@doc "取消预设商品"
	@handler cancelPreSettingGoods
	post /cancelPreSettingGoods (CancelPreSettingGoodsReq) returns (BaseResp)

	@doc "训练商品"
	@handler trainingGoods
	post /trainingGoods (TrainingGoodsReq) returns (TrainingGoodsResp)

	@doc "获取商品训练进度"
	@handler getGoodsTrainingProgress
	post /getGoodsTrainingProgress (GetGoodsTrainingProgressReq) returns (GetGoodsTrainingProgressResp)

	@doc "获取商品训练结果"
	@handler getGoodsTrainingResult
	post /getGoodsTrainingResult (GetGoodsTrainingResultReq) returns (GetGoodsTrainingResultResp)

	@doc "保存爬取的店铺基本数据"
	@handler saveShop
	post /saveShop (SaveShopReq) returns (SaveShopResp)
}

